@startuml EVOLUCION_FASE1_A_FASE2
!theme plain
skinparam backgroundColor #FAFAFA
skinparam packageStyle rectangle

title ğŸ”„ EVOLUCIÃ“N DEL PROYECTO: De ProgramaciÃ³n Procedural a POO\nCÃ³mo la Fase 1 se transforma en Fase 2

together {
  package "ğŸ“ FASE 1: FUNDAMENTOS\n(Lo que YA hiciste)" <<Rectangle>> #FFE0B2 {

    class "Main" as Main1 {
      Variables sueltas
      ----
      String tipo
      double cantidad
      double precio
      double total
    }

    class "MovementCalculator" as MC1 <<static>> {
      +calculateSubtotal()
      +calculateIVA()
      +calculateTotal()
      +isValidMovement()
    }

    note "âŒ Problemas:\n- Variables no persisten\n- DifÃ­cil manejar varios movimientos\n- Datos separados del comportamiento" as N1

    Main1 -right-> MC1 : llama mÃ©todos\nestÃ¡ticos
  }
}

together {
  package "ğŸš€ FASE 2: POO\n(Lo que VAS a hacer)" <<Rectangle>> #C8E6C9 {

    class "Main" as Main2 {
      ArrayList<Movement> movements
      ----
      Crea objetos Movement
      Los guarda en la lista
      Los consulta cuando necesita
    }

    class "Movement" as Mov2 <<object>> {
      -id: String
      -type: String
      -quantity: double
      -price: double
      -total: double
      ----
      +Movement(...)
      +calculateTotal()
      +isValid()
      +toString()
      +getters/setters
    }

    note "âœ… Ventajas:\n- Objetos persisten en memoria\n- FÃ¡cil manejar 100+ movimientos\n- Datos y comportamiento juntos" as N2

    Main2 --> "1..*" Mov2 : crea y\ngestiona
    Mov2 -up-> Mov2 : cada objeto\nse gestiona\na sÃ­ mismo
  }
}

' ConexiÃ³n entre fases
Main1 .down.> Main2 : <size:14><b>EVOLUCIONA A</b></size>\n\n<color:blue>â€¢ Misma lÃ³gica de negocio\nâ€¢ Mismos cÃ¡lculos\nâ€¢ Misma validaciÃ³n\n\n<color:green>+ Objetos\n+ Persistencia\n+ ReutilizaciÃ³n

MC1 .down.> Mov2 : <size:14><b>MÃ‰TODOS SE MUEVEN</b></size>\n\n<color:red>De: mÃ©todos static\n<color:green>A: mÃ©todos de instancia

note top of Main1
  **Ejemplo Fase 1:**
  ```java
  // Variables sueltas
  String tipo = "ENTRADA";
  double qty = 100.0;
  double precio = 15000.0;

  // Llamada estÃ¡tica
  double total = MovementCalculator
    .calculateTotal(qty, precio);

  // Imprimir y olvidar
  System.out.println(total);
  // âŒ Datos perdidos despuÃ©s
  ```
end note

note top of Main2
  **Ejemplo Fase 2:**
  ```java
  // Crear objeto
  Movement mov = new Movement(
    "ENTRADA", "ACPM", 100.0, 15000.0
  );

  // El objeto se calcula a sÃ­ mismo
  mov.calculateTotal();

  // Guardar para usar despuÃ©s
  movements.add(mov);

  // âœ… Puedo consultarlo cuando quiera
  // âœ… Puedo listar todos los movimientos
  // âœ… Puedo buscar por ID
  ```
end note

note bottom
  **ğŸ¯ CONCEPTOS QUE REUTILIZAS DE FASE 1:**

  âœ… **Validaciones:** La lÃ³gica de `isValidMovement()` se mantiene
  âœ… **CÃ¡lculos:** Las fÃ³rmulas matemÃ¡ticas son las mismas
  âœ… **IVA:** Sigue siendo 19%, solo cambia dÃ³nde se almacena
  âœ… **Tipos de combustible:** Misma lista, mismo enum (posiblemente)
  âœ… **Entrada de usuario:** InputHelper sigue funcionando igual

  **ğŸ†• LO QUE CAMBIA (MEJORA):**

  ğŸ”„ **De variables â†’ A atributos de objeto**
  ğŸ”„ **De mÃ©todos static â†’ A mÃ©todos de instancia**
  ğŸ”„ **De datos temporales â†’ A objetos persistentes**
  ğŸ”„ **De procesar uno â†’ A gestionar mÃºltiples**

  **ğŸ§  APRENDIZAJE:**

  ğŸ“š Fase 1: "Â¿CÃ³mo funciona Java?" â†’ Variables, mÃ©todos, clases
  ğŸ“š Fase 2: "Â¿CÃ³mo se diseÃ±a en Java?" â†’ Objetos, encapsulamiento, responsabilidades
end note

legend center
  |= SÃ­mbolo |= Significado |
  | <#FFE0B2> | Fase 1 - ProgramaciÃ³n Procedural |
  | <#C8E6C9> | Fase 2 - ProgramaciÃ³n Orientada a Objetos |
  | .> | EvoluciÃ³n / TransformaciÃ³n |
  | --> | RelaciÃ³n de uso |

  **Tiempo estimado de transiciÃ³n:** 2-3 sesiones de aprendizaje
  **Dificultad:** Media (ya tienes las bases de Fase 1)
  **Recompensa:** EntenderÃ¡s el VERDADERO poder de Java
end legend

@enduml

